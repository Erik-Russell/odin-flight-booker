<h1>Flights</h1>
<%= form_with url: flights_path, method: :get, local: true do |form| %>
  <p>Arrival Airport</p>
  <%= form.select :arrival_airport_id, @arrival_options, prompt: 'Select an airport' %>
  <p>Departure Airport</p>
  <%= form.select :departure_airport_id, @departure_options, prompt: 'Select an airport' %>
  <p>Departure Date and Time</p>
  <%= form.select :start,
    options_for_select(@formatted_flight_times.map { |formatted, time| [formatted, time.to_s] }),
    prompt: "Select a datetime",
    class: "form-control" %>

  <p>Number of Passengers</p>
  <%= form.select :passengers, [1, 2, 3, 4]  %>

  <p>
  <%= form.submit "Search Flights", class: "btn btn-primary" %>
  </p>
<% end %>

<% unless @flights_avail.nil? %>
  <h2> Available Flights </h2>
  <% @flights_avail.each do |flight| %>
    <div>
      <strong>Flight Number:</strong>
      <%= flight.flight_number %>
    </div>
    <div>
      <strong>Departing At:</strong>
      <%= flight.start %>
    </div>
    <div>
      <strong>From:</strong>
      <%= flight.departure_airport.name %>
    </div>
    <div>
      <strong>To:</strong>
      <%= flight.arrival_airport.name %>
    </div>
  <% end %>
<% end %>
